"use strict";
/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdateminimal_vue_webpack"]("main",{

/***/ "./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-auto-import!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./frontend_app/pages/LoginPage.vue?vue&type=script&setup=true&lang=js":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-auto-import!./node_modules/vue-loader/dist/index.js??ruleSet[1].rules[6].use[0]!./frontend_app/pages/LoginPage.vue?vue&type=script&setup=true&lang=js ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var vue__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! vue */ \"./node_modules/vue/dist/vue.runtime.esm-bundler.js\");\n/* harmony import */ var vue3_google_login__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! vue3-google-login */ \"./node_modules/vue3-google-login/dist/index.esm.js\");\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! axios */ \"./node_modules/axios/lib/axios.js\");\n/* harmony import */ var vue_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! vue-router */ \"./node_modules/vue-router/dist/vue-router.mjs\");\n/* unplugin-vue-components disabled */\n\n\n\n\nconst GOOGLE_CLIENT_ID = ''\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  __name: 'LoginPage',\n  setup(__props, { expose: __expose }) {\n  __expose();\n\nconst router = (0,vue_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n\n\nconst data = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)()\nconst userData = (0,vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null)\n\n// Define sendTokenToBackend function\nasync function sendTokenToBackend(accessToken) {\n    try {\n        const response = await axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"].post('/verify_google_token', {\n            access_token: accessToken\n        });\n        if (response.status === 200) {\n            console.log(\"User Info:\", response.data);\n            return response.data\n        } else {\n            console.error('Error sending token to backend');\n        }\n    } catch (error) {\n        console.error('Error:', error.response || error);\n        // Handle network errors or server errors\n    }\n}\n\n// Modify handleGoogleAccessTokenLogin to use sendTokenToBackend\nconst handleGoogleAccessTokenLogin = async () => {\n    try {\n        const response = await (0,vue3_google_login__WEBPACK_IMPORTED_MODULE_1__.googleTokenLogin)({\n            clientId: GOOGLE_CLIENT_ID,\n            scope: 'https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile'\n        });\n\n        data.value = response;\n        console.log('access_token:', response.access_token)\n        // Await the response from sendTokenToBackend\n        const userInfo = await sendTokenToBackend(response.access_token);\n        userData.value = userInfo; // Set userData to the actual user info\n        // console.log(userData.value)\n        if (userInfo) {\n            router.push('/home'); // Redirect to the dashboard or another route\n        }\n\n    } catch (error) {\n        console.error('Login Failed:', error);\n    }\n}\n\n\nconst __returned__ = { router, GOOGLE_CLIENT_ID, data, userData, sendTokenToBackend, handleGoogleAccessTokenLogin, ref: vue__WEBPACK_IMPORTED_MODULE_0__.ref, get googleTokenLogin() { return vue3_google_login__WEBPACK_IMPORTED_MODULE_1__.googleTokenLogin }, get axios() { return axios__WEBPACK_IMPORTED_MODULE_3__[\"default\"] }, get useRouter() { return vue_router__WEBPACK_IMPORTED_MODULE_2__.useRouter } }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n});\n\n//# sourceURL=webpack://minimal-vue-webpack/./frontend_app/pages/LoginPage.vue?./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-components!./node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-auto-import!./node_modules/vue-loader/dist/index.js??ruleSet%5B1%5D.rules%5B6%5D.use%5B0%5D");

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ /* webpack/runtime/getFullHash */
/******/ (() => {
/******/ 	__webpack_require__.h = () => ("4bd712f49c75641413bf")
/******/ })();
/******/ 
/******/ }
);